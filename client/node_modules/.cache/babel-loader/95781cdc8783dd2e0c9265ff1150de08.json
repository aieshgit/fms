{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";var refreshToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"\".concat(process.env.REACT_APP_BACKEND_SERVER,\"/refresh-token\"),{refreshToken:JSON.parse(window.localStorage.getItem(\"auth\")).refreshToken});case 3:_yield$axios$post=_context.sent;data=_yield$axios$post.data;window.localStorage.setItem(\"auth\",JSON.stringify(data));return _context.abrupt(\"return\",data);case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function refreshToken(){return _ref.apply(this,arguments);};}();export default refreshToken;","map":{"version":3,"sources":["C:/Users/akau1902/Web Development/fleet-management-system/client/src/components/auth/refreshToken.js"],"names":["axios","refreshToken","post","process","env","REACT_APP_BACKEND_SERVER","JSON","parse","window","localStorage","getItem","data","setItem","stringify","console","log"],"mappings":"2WAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,YAAY,0FAAG,oMAGMD,CAAAA,KAAK,CAACE,IAAN,WAClBC,OAAO,CAACC,GAAR,CAAYC,wBADM,mBAErB,CACEJ,YAAY,CAAEK,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAX,EACXT,YAFL,CAFqB,CAHN,wCAGTU,IAHS,mBAGTA,IAHS,CAUjBH,MAAM,CAACC,YAAP,CAAoBG,OAApB,CAA4B,MAA5B,CAAoCN,IAAI,CAACO,SAAL,CAAeF,IAAf,CAApC,EAViB,gCAWVA,IAXU,0DAajBG,OAAO,CAACC,GAAR,cAbiB,oEAAH,kBAAZd,CAAAA,YAAY,0CAAlB,CAiBA,cAAeA,CAAAA,YAAf","sourcesContent":["import axios from \"axios\";\r\n\r\nconst refreshToken = async () => {\r\n  try {\r\n    //  console.log(\"I am calling refreshToken\");\r\n    const { data } = await axios.post(\r\n      `${process.env.REACT_APP_BACKEND_SERVER}/refresh-token`,\r\n      {\r\n        refreshToken: JSON.parse(window.localStorage.getItem(\"auth\"))\r\n          .refreshToken,\r\n      }\r\n    );\r\n    window.localStorage.setItem(\"auth\", JSON.stringify(data));\r\n    return data;\r\n  } catch (err) {\r\n    console.log(err);\r\n  }\r\n};\r\n\r\nexport default refreshToken;\r\n"]},"metadata":{},"sourceType":"module"}