{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// eslint-disable-next-line\nimport React,{useState,useEffect}from\"react\";import axios from\"axios\";import BsTable from\"../layouts/BsTable\";import{textFilter}from\"react-bootstrap-table2-filter\";import UserAuth from\"../auth/UserAuth\";import{Link}from\"react-router-dom\";import{customSort}from\"../utilities/Helpers\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var OdoReadings=function OdoReadings(){var columns=[{dataField:\"odoNum\",text:\"Odometer#\",sort:true,/*       sortFunc: (a, b, order, dataField) => {\r\n        if (order === \"asc\" || !order) {\r\n          return b.localeCompare(\r\n            a,\r\n            navigator.languages[0] || navigator.language,\r\n            { numeric: true, ignorePunctuation: true }\r\n          );\r\n        }\r\n        return a.localeCompare(\r\n          b,\r\n          navigator.languages[0] || navigator.language,\r\n          { numeric: true, ignorePunctuation: true }\r\n        );\r\n      }, */sortFunc:customSort,//formatter: drillDown,\nformatter:function formatter(cell,row){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Link,{to:\"odoReadings/\".concat(row.id),children:row.odoNum})});}},{dataField:\"regNum\",text:\"Registration\",filter:textFilter()},{dataField:\"readingDate\",text:\"Date\"},{dataField:\"initialReading\",text:\"Initial Reading\"},{dataField:\"finalReading\",text:\"Final Reading\"},{dataField:\"mileage\",text:\"Mileage\"}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),odoReadings=_useState2[0],setOdoReadings=_useState2[1];useEffect(function(){loadOdoReadings();},[]);var loadOdoReadings=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:5000/odoReadings\");case 2:result=_context.sent;// console.log(result);\n//  result.data.map((item) => delete item.id);\nsetOdoReadings(result.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function loadOdoReadings(){return _ref.apply(this,arguments);};}();// delete odo reading\n/*   const deleteOdoReading = async (id) => {\r\n    await axios.delete(`http://localhost:5000/odoReadings/${id}`);\r\n    loadOdometer();\r\n  }; */var defaultSorted=[{dataField:\"odoNum\",// if dataField is not match to any column you defined, it will be ignored.\norder:\"asc\"// desc or asc\n}];return/*#__PURE__*/_jsx(UserAuth,{children:/*#__PURE__*/_jsx(BsTable,{sObject:\"OdoReadings\",tableTitle:\"Odometer\",columns:columns,tableData:odoReadings,addButton:\"Add Reading\",defaultSorted:defaultSorted})});};export default OdoReadings;","map":{"version":3,"sources":["C:/Users/akau1902/Web Development/fleet-management-system/client/src/components/list_comps/OdoReadings.js"],"names":["React","useState","useEffect","axios","BsTable","textFilter","UserAuth","Link","customSort","OdoReadings","columns","dataField","text","sort","sortFunc","formatter","cell","row","id","odoNum","filter","odoReadings","setOdoReadings","loadOdoReadings","get","result","data","defaultSorted","order"],"mappings":"kiBAAA;AACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,OAASC,UAAT,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,UAAT,KAA2B,sBAA3B,C,gGAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,OAAO,CAAG,CACd,CACEC,SAAS,CAAE,QADb,CAEEC,IAAI,CAAE,WAFR,CAGEC,IAAI,CAAE,IAHR,CAIE;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WACMC,QAAQ,CAAEN,UAlBZ,CAmBE;AACAO,SAAS,CAAE,mBAACC,IAAD,CAAOC,GAAP,CAAe,CACxB,mBACE,sCACE,KAAC,IAAD,EAAM,EAAE,uBAAiBA,GAAG,CAACC,EAArB,CAAR,UAAoCD,GAAG,CAACE,MAAxC,EADF,EADF,CAKD,CA1BH,CADc,CA6Bd,CACER,SAAS,CAAE,QADb,CAEEC,IAAI,CAAE,cAFR,CAGEQ,MAAM,CAAEf,UAAU,EAHpB,CA7Bc,CAkCd,CACEM,SAAS,CAAE,aADb,CAEEC,IAAI,CAAE,MAFR,CAlCc,CAsCd,CACED,SAAS,CAAE,gBADb,CAEEC,IAAI,CAAE,iBAFR,CAtCc,CA0Cd,CACED,SAAS,CAAE,cADb,CAEEC,IAAI,CAAE,eAFR,CA1Cc,CA8Cd,CACED,SAAS,CAAE,SADb,CAEEC,IAAI,CAAE,SAFR,CA9Cc,CAAhB,CAoDA,cAAsCX,QAAQ,CAAC,EAAD,CAA9C,wCAAOoB,WAAP,eAAoBC,cAApB,eAEApB,SAAS,CAAC,UAAM,CACdqB,eAAe,GAChB,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,eAAe,0FAAG,oKACDpB,CAAAA,KAAK,CAACqB,GAAN,CAAU,mCAAV,CADC,QAChBC,MADgB,eAEtB;AACA;AACAH,cAAc,CAACG,MAAM,CAACC,IAAR,CAAd,CAJsB,sDAAH,kBAAfH,CAAAA,eAAe,0CAArB,CAOA;AACA;AACF;AACA;AACA,OAEE,GAAMI,CAAAA,aAAa,CAAG,CACpB,CACEhB,SAAS,CAAE,QADb,CACuB;AACrBiB,KAAK,CAAE,KAAO;AAFhB,CADoB,CAAtB,CAOA,mBACE,KAAC,QAAD,wBACE,KAAC,OAAD,EACE,OAAO,CAAC,aADV,CAEE,UAAU,CAAC,UAFb,CAGE,OAAO,CAAElB,OAHX,CAIE,SAAS,CAAEW,WAJb,CAKE,SAAS,CAAC,aALZ,CAME,aAAa,CAAEM,aANjB,EADF,EADF,CAYD,CA3FD,CA6FA,cAAelB,CAAAA,WAAf","sourcesContent":["// eslint-disable-next-line\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport BsTable from \"../layouts/BsTable\";\r\nimport { textFilter } from \"react-bootstrap-table2-filter\";\r\nimport UserAuth from \"../auth/UserAuth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { customSort } from \"../utilities/Helpers\";\r\n\r\nconst OdoReadings = () => {\r\n  const columns = [\r\n    {\r\n      dataField: \"odoNum\",\r\n      text: \"Odometer#\",\r\n      sort: true,\r\n      /*       sortFunc: (a, b, order, dataField) => {\r\n        if (order === \"asc\" || !order) {\r\n          return b.localeCompare(\r\n            a,\r\n            navigator.languages[0] || navigator.language,\r\n            { numeric: true, ignorePunctuation: true }\r\n          );\r\n        }\r\n        return a.localeCompare(\r\n          b,\r\n          navigator.languages[0] || navigator.language,\r\n          { numeric: true, ignorePunctuation: true }\r\n        );\r\n      }, */\r\n      sortFunc: customSort,\r\n      //formatter: drillDown,\r\n      formatter: (cell, row) => {\r\n        return (\r\n          <>\r\n            <Link to={`odoReadings/${row.id}`}>{row.odoNum}</Link>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      dataField: \"regNum\",\r\n      text: \"Registration\",\r\n      filter: textFilter(),\r\n    },\r\n    {\r\n      dataField: \"readingDate\",\r\n      text: \"Date\",\r\n    },\r\n    {\r\n      dataField: \"initialReading\",\r\n      text: \"Initial Reading\",\r\n    },\r\n    {\r\n      dataField: \"finalReading\",\r\n      text: \"Final Reading\",\r\n    },\r\n    {\r\n      dataField: \"mileage\",\r\n      text: \"Mileage\",\r\n    },\r\n  ];\r\n\r\n  const [odoReadings, setOdoReadings] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadOdoReadings();\r\n  }, []);\r\n\r\n  const loadOdoReadings = async () => {\r\n    const result = await axios.get(\"http://localhost:5000/odoReadings\");\r\n    // console.log(result);\r\n    //  result.data.map((item) => delete item.id);\r\n    setOdoReadings(result.data);\r\n  };\r\n\r\n  // delete odo reading\r\n  /*   const deleteOdoReading = async (id) => {\r\n    await axios.delete(`http://localhost:5000/odoReadings/${id}`);\r\n    loadOdometer();\r\n  }; */\r\n\r\n  const defaultSorted = [\r\n    {\r\n      dataField: \"odoNum\", // if dataField is not match to any column you defined, it will be ignored.\r\n      order: \"asc\", // desc or asc\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <UserAuth>\r\n      <BsTable\r\n        sObject=\"OdoReadings\"\r\n        tableTitle=\"Odometer\"\r\n        columns={columns}\r\n        tableData={odoReadings}\r\n        addButton=\"Add Reading\"\r\n        defaultSorted={defaultSorted}\r\n      />\r\n    </UserAuth>\r\n  );\r\n};\r\n\r\nexport default OdoReadings;\r\n"]},"metadata":{},"sourceType":"module"}