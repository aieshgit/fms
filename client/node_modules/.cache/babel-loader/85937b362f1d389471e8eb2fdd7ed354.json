{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import UserAuth from\"../auth/UserAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";var Documents=function Documents(props){var parentDbId=props.parentDbId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),documents=_useState2[0],setDocuments=_useState2[1];//mount\nuseEffect(function(){// console.log(\"first use effect\");\nloadDocuments();},[]);/*   //update\r\n  useEffect(() => {\r\n    console.log(\"second use effect\");\r\n    loadDocuments();\r\n  }, [documents.length]); */var loadDocuments=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(// `http://localhost:5000/documents/${parentDbId}`\n\"\".concat(process.env.REACT_APP_BACKEND_SERVER,\"/documents/\").concat(parentDbId));case 2:result=_context.sent;setDocuments(result.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function loadDocuments(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(UserAuth,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:documents.map(function(document,index){return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3\",children:/*#__PURE__*/_jsx(\"a\",{// href={document.filePath}\nhref:\"\".concat(process.env.REACT_APP_FILE_SERVER,\"/\").concat(document.fileName),target:\"_blank\",rel:\"noopener noreferrer\",children:document.fileName})},index);})})});};export default Documents;","map":{"version":3,"sources":["C:/Users/akau1902/Web Development/fleet-management-system/client/src/components/list_comps/Documents.js"],"names":["React","useState","useEffect","axios","UserAuth","Documents","props","parentDbId","documents","setDocuments","loadDocuments","get","process","env","REACT_APP_BACKEND_SERVER","result","data","map","document","index","REACT_APP_FILE_SERVER","fileName"],"mappings":"kiBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,C,2CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CAC3B,GAAMC,CAAAA,UAAU,CAAGD,KAAK,CAACC,UAAzB,CAEA,cAAkCN,QAAQ,CAAC,EAAD,CAA1C,wCAAOO,SAAP,eAAkBC,YAAlB,eAEA;AACAP,SAAS,CAAC,UAAM,CACd;AACAQ,aAAa,GACd,CAHQ,CAGN,EAHM,CAAT,CAKA;AACF;AACA;AACA;AACA,4BAEE,GAAMA,CAAAA,aAAa,0FAAG,oKACCP,CAAAA,KAAK,CAACQ,GAAN,CACnB;AADmB,UAEhBC,OAAO,CAACC,GAAR,CAAYC,wBAFI,uBAEkCP,UAFlC,EADD,QACdQ,MADc,eAKpBN,YAAY,CAACM,MAAM,CAACC,IAAR,CAAZ,CALoB,sDAAH,kBAAbN,CAAAA,aAAa,0CAAnB,CAQA,mBACE,KAAC,QAAD,wBACE,YAAK,SAAS,CAAC,KAAf,UACGF,SAAS,CAACS,GAAV,CAAc,SAACC,QAAD,CAAWC,KAAX,qBACb,YAAK,SAAS,CAAC,UAAf,uBACE,UACE;AACA,IAAI,WAAKP,OAAO,CAACC,GAAR,CAAYO,qBAAjB,aAA0CF,QAAQ,CAACG,QAAnD,CAFN,CAGE,MAAM,CAAC,QAHT,CAIE,GAAG,CAAC,qBAJN,UAMGH,QAAQ,CAACG,QANZ,EADF,EAA+BF,KAA/B,CADa,EAAd,CADH,EADF,EADF,CAkBD,CA3CD,CA6CA,cAAed,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport UserAuth from \"../auth/UserAuth\";\r\n\r\nconst Documents = (props) => {\r\n  const parentDbId = props.parentDbId;\r\n\r\n  const [documents, setDocuments] = useState([]);\r\n\r\n  //mount\r\n  useEffect(() => {\r\n    // console.log(\"first use effect\");\r\n    loadDocuments();\r\n  }, []);\r\n\r\n  /*   //update\r\n  useEffect(() => {\r\n    console.log(\"second use effect\");\r\n    loadDocuments();\r\n  }, [documents.length]); */\r\n\r\n  const loadDocuments = async () => {\r\n    const result = await axios.get(\r\n      // `http://localhost:5000/documents/${parentDbId}`\r\n      `${process.env.REACT_APP_BACKEND_SERVER}/documents/${parentDbId}`\r\n    );\r\n    setDocuments(result.data);\r\n  };\r\n\r\n  return (\r\n    <UserAuth>\r\n      <div className=\"row\">\r\n        {documents.map((document, index) => (\r\n          <div className=\"col-lg-3\" key={index}>\r\n            <a\r\n              // href={document.filePath}\r\n              href={`${process.env.REACT_APP_FILE_SERVER}/${document.fileName}`}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              {document.fileName}\r\n            </a>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </UserAuth>\r\n  );\r\n};\r\n\r\nexport default Documents;\r\n"]},"metadata":{},"sourceType":"module"}