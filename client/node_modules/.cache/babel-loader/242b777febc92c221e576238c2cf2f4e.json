{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Axios from\"axios\";import{useHistory}from\"react-router-dom\";//import BottomBar from \"../layouts/BottomBar\";\nimport Dropdown from\"../layouts/Dropdown\";//import FileUpload from \"../layouts/FileUpload\";\n//import Documents from \"../list_comps/Documents\";\n//import { ToastContainer } from \"react-toastify\";\n//import \"react-toastify/dist/ReactToastify.css\";\nimport UserAuth from\"../auth/UserAuth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddService=function AddService(){var history=useHistory();var _useState=useState({vehicleNum:\"\",serviceType:\"\",startDate:\"\",completionDate:\"\",repairer:\"\",vehicleDbId:\"\"}),_useState2=_slicedToArray(_useState,2),service=_useState2[0],setService=_useState2[1];var onInputChange=function onInputChange(event){// console.log(event.target.value)\nif(event.target.name===\"vehicleNum\"){var _objectSpread2;setService(_objectSpread(_objectSpread({},service),{},(_objectSpread2={},_defineProperty(_objectSpread2,event.target.name,event.target.value),_defineProperty(_objectSpread2,\"vehicleDbId\",event.target.selectedOptions[0].getAttribute(\"dbid\")),_objectSpread2)));}else{setService(_objectSpread(_objectSpread({},service),{},_defineProperty({},event.target.name,event.target.value)));}};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return Axios.post(\"\".concat(process.env.REACT_APP_BACKEND_SERVER,\"/services\"),service);case 4://  console.log(vehicle);\nhistory.push(\"/services\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();// uncomment this if using bottom bar\n/*   const handleCancel = () => {\r\n    setService(\"\");\r\n    history.push(\"/services\");\r\n  }; */return/*#__PURE__*/_jsx(UserAuth,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container pb-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mt-3\",children:\"Add Service\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vehicleNum\",className:\"form-label mb-0\",children:\"Vehicle#\"}),/*#__PURE__*/_jsx(\"select\",{type:\"text\",className:\"form-select mt-0\",name:\"vehicleNum\",value:service.vehicleNum,onChange:onInputChange,required:true,children:/*#__PURE__*/_jsx(Dropdown,{dropDownObject:\"vehicles\",dropDownKey1:\"vehicleNum\",dropDownKey2:\"regNum\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"serviceType\",className:\"form-label mb-0\",children:\"Service Type\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select mt-0\",name:\"serviceType\",value:service.serviceType,onChange:onInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A\",children:\"A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B\",children:\"B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"C\",children:\"C\"}),/*#__PURE__*/_jsx(\"option\",{value:\"D\",children:\"D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"E\",children:\"E\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"startDate\",className:\"form-label mb-0\",children:\"Start Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control mt-0\",name:\"startDate\",value:service.startDate,onChange:onInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"completionDate\",className:\"form-label mb-0\",children:\"Completion Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control mt-0\",name:\"completionDate\",value:service.completionDate,onChange:onInputChange})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"repairer\",className:\"form-label mb-0\",children:\"Repairer\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"repairer\",value:service.repairer,onChange:onInputChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-3 p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"SpareField\",className:\"form-label mb-0\",children:\"Spare Field\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"SpareField\"// value={service.completionDate}\n// onChange={onInputChange}\n})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center pt-5\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-35 py-2 px-5\",children:\"Save\"})})]})]})});};export default AddService;","map":{"version":3,"sources":["C:/Users/akau1902/Web Development/fleet-management-system/client/src/components/detail_comps/AddService.js"],"names":["React","useState","Axios","useHistory","Dropdown","UserAuth","AddService","history","vehicleNum","serviceType","startDate","completionDate","repairer","vehicleDbId","service","setService","onInputChange","event","target","name","value","selectedOptions","getAttribute","handleSubmit","preventDefault","post","process","env","REACT_APP_BACKEND_SERVER","push","console","error","message"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n//import BottomBar from \"../layouts/BottomBar\";\r\nimport Dropdown from \"../layouts/Dropdown\";\r\n//import FileUpload from \"../layouts/FileUpload\";\r\n//import Documents from \"../list_comps/Documents\";\r\n//import { ToastContainer } from \"react-toastify\";\r\n//import \"react-toastify/dist/ReactToastify.css\";\r\nimport UserAuth from \"../auth/UserAuth\";\r\n\r\nconst AddService = () => {\r\n  let history = useHistory();\r\n  const [service, setService] = useState({\r\n    vehicleNum: \"\",\r\n    serviceType: \"\",\r\n    startDate: \"\",\r\n    completionDate: \"\",\r\n    repairer: \"\",\r\n    vehicleDbId: \"\",\r\n  });\r\n\r\n  const onInputChange = (event) => {\r\n    // console.log(event.target.value)\r\n\r\n    if (event.target.name === \"vehicleNum\") {\r\n      setService({\r\n        ...service,\r\n        [event.target.name]: event.target.value,\r\n        vehicleDbId: event.target.selectedOptions[0].getAttribute(\"dbid\"),\r\n      });\r\n    } else {\r\n      setService({ ...service, [event.target.name]: event.target.value });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      //  console.log(service);\r\n      await Axios.post(\r\n        `${process.env.REACT_APP_BACKEND_SERVER}/services`,\r\n        service\r\n      );\r\n      //  console.log(vehicle);\r\n      history.push(\"/services\");\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  // uncomment this if using bottom bar\r\n  /*   const handleCancel = () => {\r\n    setService(\"\");\r\n    history.push(\"/services\");\r\n  }; */\r\n\r\n  return (\r\n    <UserAuth>\r\n      <div className=\"container pb-5\">\r\n        <h2 className=\"text-center mt-3\">Add Service</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-lg-3 p-3\">\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"vehicleNum\" className=\"form-label mb-0\">\r\n                  Vehicle#\r\n                </label>\r\n                <select\r\n                  type=\"text\"\r\n                  className=\"form-select mt-0\"\r\n                  name=\"vehicleNum\"\r\n                  value={service.vehicleNum}\r\n                  onChange={onInputChange}\r\n                  required\r\n                >\r\n                  <Dropdown\r\n                    dropDownObject=\"vehicles\"\r\n                    dropDownKey1=\"vehicleNum\"\r\n                    dropDownKey2=\"regNum\"\r\n                  />\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"serviceType\" className=\"form-label mb-0\">\r\n                  Service Type\r\n                </label>\r\n                <select\r\n                  className=\"form-select mt-0\"\r\n                  name=\"serviceType\"\r\n                  value={service.serviceType}\r\n                  onChange={onInputChange}\r\n                  required\r\n                >\r\n                  <option value=\"\">Select</option>\r\n                  <option value=\"A\">A</option>\r\n                  <option value=\"B\">B</option>\r\n                  <option value=\"C\">C</option>\r\n                  <option value=\"D\">D</option>\r\n                  <option value=\"E\">E</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-lg-3 p-3\">\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"startDate\" className=\"form-label mb-0\">\r\n                  Start Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"startDate\"\r\n                  value={service.startDate}\r\n                  onChange={onInputChange}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"completionDate\" className=\"form-label mb-0\">\r\n                  Completion Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"completionDate\"\r\n                  value={service.completionDate}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-lg-3 p-3\">\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"repairer\" className=\"form-label mb-0\">\r\n                  Repairer\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"repairer\"\r\n                  value={service.repairer}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-lg-3 p-3\">\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"SpareField\" className=\"form-label mb-0\">\r\n                  Spare Field\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"SpareField\"\r\n                  // value={service.completionDate}\r\n                  // onChange={onInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-center pt-5\">\r\n            <button type=\"submit\" className=\"btn btn-primary w-35 py-2 px-5\">\r\n              Save\r\n            </button>\r\n          </div>\r\n        </form>\r\n        {/*           <FileUpload\r\n            parentObject={\"service\"}\r\n            parentDbId={service.serviceDbId}\r\n            parentUuid={id}\r\n          />\r\n          <ToastContainer />\r\n\r\n          {service.serviceDbId && (\r\n            <Documents parentDbId={service.serviceDbId} />\r\n          )} */}\r\n\r\n        {/*           <BottomBar\r\n            handleSubmit={handleSubmit}\r\n            handleCancel={handleCancel}\r\n            p\r\n          /> */}\r\n      </div>\r\n    </UserAuth>\r\n  );\r\n};\r\n\r\nexport default AddService;\r\n"]},"metadata":{},"sourceType":"module"}