{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import Axios from\"axios\";import{useHistory}from\"react-router-dom\";// import BottomBar from \"../layouts/BottomBar\";\nimport UserAuth from\"../auth/UserAuth\";import ErrorModal from\"../layouts/ErrorModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddVehicle=function AddVehicle(){var history=useHistory();var _useState=useState({//  vehicleNum: \"\",\nregNum:\"\",vin:\"\",make:\"\",model:\"\",buildDate:\"\",vehicleType:\"\",etag:\"\",gcm:\"\",gvm:\"\",tare:\"\",maintEntry:\"\",maintExit:\"\",massEntry:\"\",massExit:\"\",nhvasLabelNum:\"\",frequency:\"\",regDueDate:\"\",regState:\"\",engineNum:\"\",engineMake:\"\",engineModel:\"\",engineCapacity:\"\",engineGearBox:\"\"}),_useState2=_slicedToArray(_useState,2),vehicle=_useState2[0],setVehicle=_useState2[1];/* Use the below if using custom validation rules for each field using states   \r\n//form validation variables and rules\r\n  const [isRegValid, setIsRegValid] = useState(true);\r\n\r\n  //Input Field validation css\r\n  const invalidInputCss = isRegValid\r\n    ? \"form-control mt-0\"\r\n    : \"form-control border-danger bg-warning mt-0\"; */ // Error modal\nvar _useState3=useState({showModal:false,error:\"\"}),_useState4=_slicedToArray(_useState3,2),modal=_useState4[0],setModal=_useState4[1];var handleCloseModal=function handleCloseModal(){setModal({showModal:false,error:\"\"});};// handle input values\nvar onInputChange=function onInputChange(event){//  console.log(event.target.value);\nsetVehicle(_objectSpread(_objectSpread({},vehicle),{},_defineProperty({},event.target.name,event.target.value)));};// handle submit\nvar handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var _yield$Axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();/* Use the below if using custom validation rules for each field using states \r\n    // field validation\r\n    if (vehicle.regNum.trim() === \"\") {\r\n      setIsRegValid(false);\r\n      return;\r\n    } */_context.prev=1;_context.next=4;return Axios.post(\"\".concat(process.env.REACT_APP_BACKEND_SERVER,\"/vehicles\"),vehicle);case 4:_yield$Axios$post=_context.sent;data=_yield$Axios$post.data;// if data invalid show error pop up\nif(data.isDataValid===false){setModal({showModal:true,error:data.error});}// else push to list view\nelse{history.push(\"/vehicles\");}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.error(_context.t0.message);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();// uncomment this if using bottom bar\n/*   const handleCancel = () => {\r\n    setVehicle(\"\");\r\n    history.push(\"/vehicles\");\r\n  }; */return/*#__PURE__*/_jsx(UserAuth,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container pb-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mt-3\",children:\"Add Vehicle\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 p-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-left mb-4\",children:\"Information\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"make\",className:\"form-label mb-0\",children:\"Make\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"make\",value:vehicle.make,onChange:onInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"model\",className:\"form-label mb-0\",children:\"Model\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"model\",value:vehicle.model,onChange:onInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vin\",className:\"form-label mb-0\",children:\"Vin/Chasis\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"vin\",value:vehicle.vin,onChange:onInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"vehicleType\",className:\"form-label mb-0\",children:\"Vehicle Type\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"vehicleType\",value:vehicle.vehicleType,onChange:onInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"buildDate\",className:\"form-label mb-0\",children:\"Build Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control mt-0\",name:\"buildDate\",value:vehicle.buildDate,onChange:onInputChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 p-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-left mb-4\",children:\"Registration\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"regNum\",className:\"form-label mb-0\",children:\"Registration#\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\"//  className={invalidInputCss}\n,name:\"regNum\",value:vehicle.regNum,onChange:onInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"regState\",className:\"form-label mb-0\",children:\"State\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",name:\"regState\",value:vehicle.regState,onChange:onInputChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"VIC\",children:\"VIC\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NSW\",children:\"NSW\"}),/*#__PURE__*/_jsx(\"option\",{value:\"QLD\",children:\"QLD\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ACT\",children:\"ACT\"}),/*#__PURE__*/_jsx(\"option\",{value:\"TAS\",children:\"TAS\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SA\",children:\"SA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"WA\",children:\"WA\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NT\",children:\"NT\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"regDueDate\",className:\"form-label mb-0\",children:\"Due Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"form-control mt-0\",name:\"regDueDate\",value:vehicle.regDueDate,onChange:onInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"frequency\",className:\"form-label mb-0\",children:\"Frequency\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"frequency\",value:vehicle.frequency,onChange:onInputChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 p-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-left mb-4\",children:\"Engine\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"engineNum\",className:\"form-label mb-0\",children:\"Engine#\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"engineNum\",value:vehicle.engineNum,onChange:onInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"engineMake\",className:\"form-label mb-0\",children:\"Make\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"engineMake\",value:vehicle.engineMake,onChange:onInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"engineModel\",className:\"form-label mb-0\",children:\"Model\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"engineModel\",value:vehicle.engineModel,onChange:onInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"engineCapacity\",className:\"form-label mb-0\",children:\"Capacity\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"engineCapacity\",value:vehicle.engineCapacity,onChange:onInputChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"engineGearBox\",className:\"form-label mb-0\",children:\"Gearbox\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"engineGearBox\",value:vehicle.engineGearBox,onChange:onInputChange})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-3 p-3\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"text-left mb-4\",children:\"Other\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etag\",className:\"form-label mb-0\",children:\"ETAG\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control mt-0\",name:\"etag\",value:vehicle.etag,onChange:onInputChange})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center pt-5\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary w-35 py-2 px-5\",children:\"Save\"})})]}),/*#__PURE__*/_jsx(ErrorModal,{show:modal.showModal,error:modal.error,handleCloseModal:handleCloseModal})]})});};export default AddVehicle;","map":{"version":3,"sources":["C:/Users/akau1902/Web Development/fleet-management-system/client/src/components/detail_comps/AddVehicle.js"],"names":["React","useState","Axios","useHistory","UserAuth","ErrorModal","AddVehicle","history","regNum","vin","make","model","buildDate","vehicleType","etag","gcm","gvm","tare","maintEntry","maintExit","massEntry","massExit","nhvasLabelNum","frequency","regDueDate","regState","engineNum","engineMake","engineModel","engineCapacity","engineGearBox","vehicle","setVehicle","showModal","error","modal","setModal","handleCloseModal","onInputChange","event","target","name","value","handleSubmit","preventDefault","post","process","env","REACT_APP_BACKEND_SERVER","data","isDataValid","push","console","message"],"mappings":"i5BAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA;AACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,C,wFAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,GAAIC,CAAAA,OAAO,CAAGJ,UAAU,EAAxB,CACA,cAA8BF,QAAQ,CAAC,CACrC;AACAO,MAAM,CAAE,EAF6B,CAGrCC,GAAG,CAAE,EAHgC,CAIrCC,IAAI,CAAE,EAJ+B,CAKrCC,KAAK,CAAE,EAL8B,CAMrCC,SAAS,CAAE,EAN0B,CAOrCC,WAAW,CAAE,EAPwB,CAQrCC,IAAI,CAAE,EAR+B,CASrCC,GAAG,CAAE,EATgC,CAUrCC,GAAG,CAAE,EAVgC,CAWrCC,IAAI,CAAE,EAX+B,CAYrCC,UAAU,CAAE,EAZyB,CAarCC,SAAS,CAAE,EAb0B,CAcrCC,SAAS,CAAE,EAd0B,CAerCC,QAAQ,CAAE,EAf2B,CAgBrCC,aAAa,CAAE,EAhBsB,CAiBrCC,SAAS,CAAE,EAjB0B,CAkBrCC,UAAU,CAAE,EAlByB,CAmBrCC,QAAQ,CAAE,EAnB2B,CAoBrCC,SAAS,CAAE,EApB0B,CAqBrCC,UAAU,CAAE,EArByB,CAsBrCC,WAAW,CAAE,EAtBwB,CAuBrCC,cAAc,CAAE,EAvBqB,CAwBrCC,aAAa,CAAE,EAxBsB,CAAD,CAAtC,wCAAOC,OAAP,eAAgBC,UAAhB,eA2BA;AACF;AACA;AACA;AACA;AACA;AACA;AACA,sDApCyB,CAsCvB;AACA,eAA0B/B,QAAQ,CAAC,CAAEgC,SAAS,CAAE,KAAb,CAAoBC,KAAK,CAAE,EAA3B,CAAD,CAAlC,yCAAOC,KAAP,eAAcC,QAAd,eAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC7BD,QAAQ,CAAC,CAAEH,SAAS,CAAE,KAAb,CAAoBC,KAAK,CAAE,EAA3B,CAAD,CAAR,CACD,CAFD,CAIA;AACA,GAAMI,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,KAAD,CAAW,CAC/B;AACAP,UAAU,gCAAMD,OAAN,wBAAgBQ,KAAK,CAACC,MAAN,CAAaC,IAA7B,CAAoCF,KAAK,CAACC,MAAN,CAAaE,KAAjD,GAAV,CACD,CAHD,CAKA;AACA,GAAMC,CAAAA,YAAY,0FAAG,iBAAOJ,KAAP,6IACnBA,KAAK,CAACK,cAAN,GAEA;AACJ;AACA;AACA;AACA;AACA,QARuB,sCAYM1C,CAAAA,KAAK,CAAC2C,IAAN,WAClBC,OAAO,CAACC,GAAR,CAAYC,wBADM,cAErBjB,OAFqB,CAZN,wCAYTkB,IAZS,mBAYTA,IAZS,CAiBjB;AACA,GAAIA,IAAI,CAACC,WAAL,GAAqB,KAAzB,CAAgC,CAC9Bd,QAAQ,CAAC,CAAEH,SAAS,CAAE,IAAb,CAAmBC,KAAK,CAAEe,IAAI,CAACf,KAA/B,CAAD,CAAR,CACD,CACD;AAHA,IAIK,CACH3B,OAAO,CAAC4C,IAAR,CAAa,WAAb,EACD,CAxBgB,+EA0BjBC,OAAO,CAAClB,KAAR,CAAc,YAAImB,OAAlB,EA1BiB,oEAAH,kBAAZV,CAAAA,YAAY,4CAAlB,CA8BA;AACA;AACF;AACA;AACA,OAEE,mBACE,KAAC,QAAD,wBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,WAAI,SAAS,CAAC,kBAAd,yBADF,cAME,cAAM,QAAQ,CAAEA,YAAhB,wBACE,aAAK,SAAS,CAAC,UAAf,wBACE,aAAK,SAAS,CAAC,cAAf,wBACE,WAAI,SAAS,CAAC,gBAAd,yBADF,cAEE,aAFF,cAGE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,MAAf,CAAsB,SAAS,CAAC,iBAAhC,kBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAEZ,OAAO,CAACrB,IAJjB,CAKE,QAAQ,CAAE4B,aALZ,CAME,QAAQ,KANV,EAJF,GAHF,cAiBE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,OAAf,CAAuB,SAAS,CAAC,iBAAjC,mBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,OAHP,CAIE,KAAK,CAAEP,OAAO,CAACpB,KAJjB,CAKE,QAAQ,CAAE2B,aALZ,CAME,QAAQ,KANV,EAJF,GAjBF,cA+BE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,KAAf,CAAqB,SAAS,CAAC,iBAA/B,wBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,KAHP,CAIE,KAAK,CAAEP,OAAO,CAACtB,GAJjB,CAKE,QAAQ,CAAE6B,aALZ,CAME,QAAQ,KANV,EAJF,GA/BF,cA6CE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,aAAf,CAA6B,SAAS,CAAC,iBAAvC,0BADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,aAHP,CAIE,KAAK,CAAEP,OAAO,CAAClB,WAJjB,CAKE,QAAQ,CAAEyB,aALZ,EAJF,GA7CF,cA0DE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,WAAf,CAA2B,SAAS,CAAC,iBAArC,wBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,WAHP,CAIE,KAAK,CAAEP,OAAO,CAACnB,SAJjB,CAKE,QAAQ,CAAE0B,aALZ,EAJF,GA1DF,GADF,cAyEE,aAAK,SAAS,CAAC,cAAf,wBACE,WAAI,SAAS,CAAC,gBAAd,0BADF,cAEE,aAFF,cAGE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,QAAf,CAAwB,SAAS,CAAC,iBAAlC,2BADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBACV;AAHF,CAIE,IAAI,CAAC,QAJP,CAKE,KAAK,CAAEP,OAAO,CAACvB,MALjB,CAME,QAAQ,CAAE8B,aANZ,CAOE,QAAQ,KAPV,EAJF,GAHF,cAkBE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,UAAf,CAA0B,SAAS,CAAC,iBAApC,mBADF,cAIE,gBACE,SAAS,CAAC,aADZ,CAEE,IAAI,CAAC,UAFP,CAGE,KAAK,CAAEP,OAAO,CAACN,QAHjB,CAIE,QAAQ,CAAEa,aAJZ,wBAME,eAAQ,KAAK,CAAC,EAAd,oBANF,cAOE,eAAQ,KAAK,CAAC,KAAd,iBAPF,cAQE,eAAQ,KAAK,CAAC,KAAd,iBARF,cASE,eAAQ,KAAK,CAAC,KAAd,iBATF,cAUE,eAAQ,KAAK,CAAC,KAAd,iBAVF,cAWE,eAAQ,KAAK,CAAC,KAAd,iBAXF,cAYE,eAAQ,KAAK,CAAC,IAAd,gBAZF,cAaE,eAAQ,KAAK,CAAC,IAAd,gBAbF,cAcE,eAAQ,KAAK,CAAC,IAAd,gBAdF,GAJF,GAlBF,cAwCE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,YAAf,CAA4B,SAAS,CAAC,iBAAtC,sBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,YAHP,CAIE,KAAK,CAAEP,OAAO,CAACP,UAJjB,CAKE,QAAQ,CAAEc,aALZ,EAJF,GAxCF,cAqDE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,WAAf,CAA2B,SAAS,CAAC,iBAArC,uBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,WAHP,CAIE,KAAK,CAAEP,OAAO,CAACR,SAJjB,CAKE,QAAQ,CAAEe,aALZ,EAJF,GArDF,GAzEF,cA4IE,aAAK,SAAS,CAAC,cAAf,wBACE,WAAI,SAAS,CAAC,gBAAd,oBADF,cAEE,aAFF,cAGE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,WAAf,CAA2B,SAAS,CAAC,iBAArC,qBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,WAHP,CAIE,KAAK,CAAEP,OAAO,CAACL,SAJjB,CAKE,QAAQ,CAAEY,aALZ,EAJF,GAHF,cAgBE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,YAAf,CAA4B,SAAS,CAAC,iBAAtC,kBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,YAHP,CAIE,KAAK,CAAEP,OAAO,CAACJ,UAJjB,CAKE,QAAQ,CAAEW,aALZ,EAJF,GAhBF,cA6BE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,aAAf,CAA6B,SAAS,CAAC,iBAAvC,mBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,aAHP,CAIE,KAAK,CAAEP,OAAO,CAACH,WAJjB,CAKE,QAAQ,CAAEU,aALZ,EAJF,GA7BF,cA0CE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,gBAAf,CAAgC,SAAS,CAAC,iBAA1C,sBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,gBAHP,CAIE,KAAK,CAAEP,OAAO,CAACF,cAJjB,CAKE,QAAQ,CAAES,aALZ,EAJF,GA1CF,cAuDE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,eAAf,CAA+B,SAAS,CAAC,iBAAzC,qBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,eAHP,CAIE,KAAK,CAAEP,OAAO,CAACD,aAJjB,CAKE,QAAQ,CAAEQ,aALZ,EAJF,GAvDF,GA5IF,cAiNE,aAAK,SAAS,CAAC,cAAf,wBACE,WAAI,SAAS,CAAC,gBAAd,mBADF,cAEE,aAFF,cAGE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,MAAf,CAAsB,SAAS,CAAC,iBAAhC,kBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,mBAFZ,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAEP,OAAO,CAACjB,IAJjB,CAKE,QAAQ,CAAEwB,aALZ,EAJF,GAHF,GAjNF,GADF,cAmOE,YAAK,SAAS,CAAC,kBAAf,uBACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,gCAAhC,kBADF,EAnOF,GANF,cAkPE,KAAC,UAAD,EACE,IAAI,CAAEH,KAAK,CAACF,SADd,CAEE,KAAK,CAAEE,KAAK,CAACD,KAFf,CAGE,gBAAgB,CAAEG,gBAHpB,EAlPF,GADF,EADF,CA4PD,CApVD,CAsVA,cAAe/B,CAAAA,UAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// import BottomBar from \"../layouts/BottomBar\";\r\nimport UserAuth from \"../auth/UserAuth\";\r\nimport ErrorModal from \"../layouts/ErrorModal\";\r\n\r\nconst AddVehicle = () => {\r\n  let history = useHistory();\r\n  const [vehicle, setVehicle] = useState({\r\n    //  vehicleNum: \"\",\r\n    regNum: \"\",\r\n    vin: \"\",\r\n    make: \"\",\r\n    model: \"\",\r\n    buildDate: \"\",\r\n    vehicleType: \"\",\r\n    etag: \"\",\r\n    gcm: \"\",\r\n    gvm: \"\",\r\n    tare: \"\",\r\n    maintEntry: \"\",\r\n    maintExit: \"\",\r\n    massEntry: \"\",\r\n    massExit: \"\",\r\n    nhvasLabelNum: \"\",\r\n    frequency: \"\",\r\n    regDueDate: \"\",\r\n    regState: \"\",\r\n    engineNum: \"\",\r\n    engineMake: \"\",\r\n    engineModel: \"\",\r\n    engineCapacity: \"\",\r\n    engineGearBox: \"\",\r\n  });\r\n\r\n  /* Use the below if using custom validation rules for each field using states   \r\n//form validation variables and rules\r\n  const [isRegValid, setIsRegValid] = useState(true);\r\n\r\n  //Input Field validation css\r\n  const invalidInputCss = isRegValid\r\n    ? \"form-control mt-0\"\r\n    : \"form-control border-danger bg-warning mt-0\"; */\r\n\r\n  // Error modal\r\n  const [modal, setModal] = useState({ showModal: false, error: \"\" });\r\n\r\n  const handleCloseModal = () => {\r\n    setModal({ showModal: false, error: \"\" });\r\n  };\r\n\r\n  // handle input values\r\n  const onInputChange = (event) => {\r\n    //  console.log(event.target.value);\r\n    setVehicle({ ...vehicle, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  // handle submit\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    /* Use the below if using custom validation rules for each field using states \r\n    // field validation\r\n    if (vehicle.regNum.trim() === \"\") {\r\n      setIsRegValid(false);\r\n      return;\r\n    } */\r\n\r\n    try {\r\n      //  console.log(vehicle);\r\n      const { data } = await Axios.post(\r\n        `${process.env.REACT_APP_BACKEND_SERVER}/vehicles`,\r\n        vehicle\r\n      );\r\n\r\n      // if data invalid show error pop up\r\n      if (data.isDataValid === false) {\r\n        setModal({ showModal: true, error: data.error });\r\n      }\r\n      // else push to list view\r\n      else {\r\n        history.push(\"/vehicles\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  // uncomment this if using bottom bar\r\n  /*   const handleCancel = () => {\r\n    setVehicle(\"\");\r\n    history.push(\"/vehicles\");\r\n  }; */\r\n\r\n  return (\r\n    <UserAuth>\r\n      <div className=\"container pb-5\">\r\n        <h2 className=\"text-center mt-3\">Add Vehicle</h2>\r\n        {/*\r\nUse the below if using custom validation rules for each field using states          {!isRegValid && (\r\n          <p className=\"text-danger\">**Registration# cannot be blank**</p>\r\n        )} */}\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"row mt-3\">\r\n            <div className=\"col-lg-3 p-3\">\r\n              <h5 className=\"text-left mb-4\">Information</h5>\r\n              <hr />\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"make\" className=\"form-label mb-0\">\r\n                  Make\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"make\"\r\n                  value={vehicle.make}\r\n                  onChange={onInputChange}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"model\" className=\"form-label mb-0\">\r\n                  Model\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"model\"\r\n                  value={vehicle.model}\r\n                  onChange={onInputChange}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"vin\" className=\"form-label mb-0\">\r\n                  Vin/Chasis\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"vin\"\r\n                  value={vehicle.vin}\r\n                  onChange={onInputChange}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"vehicleType\" className=\"form-label mb-0\">\r\n                  Vehicle Type\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"vehicleType\"\r\n                  value={vehicle.vehicleType}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"buildDate\" className=\"form-label mb-0\">\r\n                  Build Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"buildDate\"\r\n                  value={vehicle.buildDate}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-lg-3 p-3\">\r\n              <h5 className=\"text-left mb-4\">Registration</h5>\r\n              <hr />\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"regNum\" className=\"form-label mb-0\">\r\n                  Registration#\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  //  className={invalidInputCss}\r\n                  name=\"regNum\"\r\n                  value={vehicle.regNum}\r\n                  onChange={onInputChange}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"regState\" className=\"form-label mb-0\">\r\n                  State\r\n                </label>\r\n                <select\r\n                  className=\"form-select\"\r\n                  name=\"regState\"\r\n                  value={vehicle.regState}\r\n                  onChange={onInputChange}\r\n                >\r\n                  <option value=\"\">Select</option>\r\n                  <option value=\"VIC\">VIC</option>\r\n                  <option value=\"NSW\">NSW</option>\r\n                  <option value=\"QLD\">QLD</option>\r\n                  <option value=\"ACT\">ACT</option>\r\n                  <option value=\"TAS\">TAS</option>\r\n                  <option value=\"SA\">SA</option>\r\n                  <option value=\"WA\">WA</option>\r\n                  <option value=\"NT\">NT</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"regDueDate\" className=\"form-label mb-0\">\r\n                  Due Date\r\n                </label>\r\n                <input\r\n                  type=\"date\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"regDueDate\"\r\n                  value={vehicle.regDueDate}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"frequency\" className=\"form-label mb-0\">\r\n                  Frequency\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"frequency\"\r\n                  value={vehicle.frequency}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-lg-3 p-3\">\r\n              <h5 className=\"text-left mb-4\">Engine</h5>\r\n              <hr />\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"engineNum\" className=\"form-label mb-0\">\r\n                  Engine#\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"engineNum\"\r\n                  value={vehicle.engineNum}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"engineMake\" className=\"form-label mb-0\">\r\n                  Make\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"engineMake\"\r\n                  value={vehicle.engineMake}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"engineModel\" className=\"form-label mb-0\">\r\n                  Model\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"engineModel\"\r\n                  value={vehicle.engineModel}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"engineCapacity\" className=\"form-label mb-0\">\r\n                  Capacity\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"engineCapacity\"\r\n                  value={vehicle.engineCapacity}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"engineGearBox\" className=\"form-label mb-0\">\r\n                  Gearbox\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"engineGearBox\"\r\n                  value={vehicle.engineGearBox}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-lg-3 p-3\">\r\n              <h5 className=\"text-left mb-4\">Other</h5>\r\n              <hr />\r\n              <div className=\"mb-3\">\r\n                <label htmlFor=\"etag\" className=\"form-label mb-0\">\r\n                  ETAG\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control mt-0\"\r\n                  name=\"etag\"\r\n                  value={vehicle.etag}\r\n                  onChange={onInputChange}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-center pt-5\">\r\n            <button type=\"submit\" className=\"btn btn-primary w-35 py-2 px-5\">\r\n              Save\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        {/* <BottomBar handleSubmit={handleSubmit} handleCancel={handleCancel} /> */}\r\n\r\n        <ErrorModal\r\n          show={modal.showModal}\r\n          error={modal.error}\r\n          handleCloseModal={handleCloseModal}\r\n        />\r\n      </div>\r\n    </UserAuth>\r\n  );\r\n};\r\n\r\nexport default AddVehicle;\r\n"]},"metadata":{},"sourceType":"module"}