{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import BsTable from\"../layouts/BsTable\";//import { textFilter } from \"react-bootstrap-table2-filter\";\nimport UserAuth from\"../auth/UserAuth\";import{Link}from\"react-router-dom\";import{customSort}from\"../utilities/Helpers\";import{textFilter}from\"react-bootstrap-table2-filter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Employees=function Employees(){var columns=[{dataField:\"employeeNum\",text:\"Employee#\",sort:true,sortFunc:customSort,formatter:function formatter(cell,row){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Link,{to:\"employees/\".concat(row.id),children:row.employeeNum})});}},{dataField:\"fullName\",text:\"Name\"// filter: textFilter(),\n},{dataField:\"jobTitle\",text:\"Job Title\"},{dataField:\"licenseNum\",text:\"License#\"//sort: true,\n}/*     {\r\n      dataField: \"id\",\r\n      text: \"Actions\",\r\n      formatter: action,\r\n    }, */];var defaultSorted=[{datafield:\"employeeNum\",order:\"asc\"}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),employees=_useState2[0],setEmployees=_useState2[1];useEffect(function(){loadEmployees();},[]);var loadEmployees=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(process.env.REACT_APP_BACKEND_SERVER,\"/employees\"));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setEmployees(data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function loadEmployees(){return _ref.apply(this,arguments);};}();//delete service\n/*   const deleteService = async (id) => {\r\n    await axios.delete(`http://localhost:5000/services/${id}`);\r\n    loadServices();\r\n  }; */return/*#__PURE__*/_jsx(UserAuth,{children:/*#__PURE__*/_jsx(BsTable,{sObject:\"employees\",tableTitle:\"Employees\",columns:columns,tableData:employees,addButton:\"Add Employee\",defaultSorted:defaultSorted})});};export default Employees;","map":{"version":3,"sources":["C:/Users/akau1902/Web Development/fleet-management-system/client/src/components/list_comps/Employees.js"],"names":["React","useState","useEffect","axios","BsTable","UserAuth","Link","customSort","textFilter","Employees","columns","dataField","text","sort","sortFunc","formatter","cell","row","id","employeeNum","defaultSorted","datafield","order","employees","setEmployees","loadEmployees","get","process","env","REACT_APP_BACKEND_SERVER","data"],"mappings":"kiBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA;AACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,UAAT,KAA2B,sBAA3B,CACA,OAASC,UAAT,KAA2B,+BAA3B,C,gGAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAMC,CAAAA,OAAO,CAAG,CACd,CACEC,SAAS,CAAE,aADb,CAEEC,IAAI,CAAE,WAFR,CAGEC,IAAI,CAAE,IAHR,CAIEC,QAAQ,CAAEP,UAJZ,CAKEQ,SAAS,CAAE,mBAACC,IAAD,CAAOC,GAAP,CAAe,CACxB,mBACE,sCACE,KAAC,IAAD,EAAM,EAAE,qBAAeA,GAAG,CAACC,EAAnB,CAAR,UAAkCD,GAAG,CAACE,WAAtC,EADF,EADF,CAKD,CAXH,CADc,CAcd,CACER,SAAS,CAAE,UADb,CAEEC,IAAI,CAAE,MACN;AAHF,CAdc,CAmBd,CACED,SAAS,CAAE,UADb,CAEEC,IAAI,CAAE,WAFR,CAnBc,CAuBd,CACED,SAAS,CAAE,YADb,CAEEC,IAAI,CAAE,UACN;AAHF,CAKA;AACJ;AACA;AACA;AACA,SAhCkB,CAAhB,CAmCA,GAAMQ,CAAAA,aAAa,CAAG,CAAC,CAAEC,SAAS,CAAE,aAAb,CAA4BC,KAAK,CAAE,KAAnC,CAAD,CAAtB,CAEA,cAAkCrB,QAAQ,CAAC,EAAD,CAA1C,wCAAOsB,SAAP,eAAkBC,YAAlB,eAEAtB,SAAS,CAAC,UAAM,CACduB,aAAa,GACd,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,aAAa,0FAAG,mLAEGtB,CAAAA,KAAK,CAACuB,GAAN,WAClBC,OAAO,CAACC,GAAR,CAAYC,wBADM,eAFH,uCAEZC,IAFY,kBAEZA,IAFY,CAKpBN,YAAY,CAACM,IAAD,CAAZ,CALoB,sDAAH,kBAAbL,CAAAA,aAAa,0CAAnB,CAQA;AACA;AACF;AACA;AACA,OAEE,mBACE,KAAC,QAAD,wBACE,KAAC,OAAD,EACE,OAAO,CAAC,WADV,CAEE,UAAU,CAAC,WAFb,CAGE,OAAO,CAAEf,OAHX,CAIE,SAAS,CAAEa,SAJb,CAKE,SAAS,CAAC,cALZ,CAME,aAAa,CAAEH,aANjB,EADF,EADF,CAYD,CAtED,CAwEA,cAAeX,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport BsTable from \"../layouts/BsTable\";\r\n//import { textFilter } from \"react-bootstrap-table2-filter\";\r\nimport UserAuth from \"../auth/UserAuth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { customSort } from \"../utilities/Helpers\";\r\nimport { textFilter } from \"react-bootstrap-table2-filter\";\r\n\r\nconst Employees = () => {\r\n  const columns = [\r\n    {\r\n      dataField: \"employeeNum\",\r\n      text: \"Employee#\",\r\n      sort: true,\r\n      sortFunc: customSort,\r\n      formatter: (cell, row) => {\r\n        return (\r\n          <>\r\n            <Link to={`employees/${row.id}`}>{row.employeeNum}</Link>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      dataField: \"fullName\",\r\n      text: \"Name\",\r\n      // filter: textFilter(),\r\n    },\r\n    {\r\n      dataField: \"jobTitle\",\r\n      text: \"Job Title\",\r\n    },\r\n    {\r\n      dataField: \"licenseNum\",\r\n      text: \"License#\",\r\n      //sort: true,\r\n    },\r\n    /*     {\r\n      dataField: \"id\",\r\n      text: \"Actions\",\r\n      formatter: action,\r\n    }, */\r\n  ];\r\n\r\n  const defaultSorted = [{ datafield: \"employeeNum\", order: \"asc\" }];\r\n\r\n  const [employees, setEmployees] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadEmployees();\r\n  }, []);\r\n\r\n  const loadEmployees = async () => {\r\n    // const { data } = await axios.get(\"http://localhost:5000/employees\");\r\n    const { data } = await axios.get(\r\n      `${process.env.REACT_APP_BACKEND_SERVER}/employees`\r\n    );\r\n    setEmployees(data);\r\n  };\r\n\r\n  //delete service\r\n  /*   const deleteService = async (id) => {\r\n    await axios.delete(`http://localhost:5000/services/${id}`);\r\n    loadServices();\r\n  }; */\r\n\r\n  return (\r\n    <UserAuth>\r\n      <BsTable\r\n        sObject=\"employees\"\r\n        tableTitle=\"Employees\"\r\n        columns={columns}\r\n        tableData={employees}\r\n        addButton=\"Add Employee\"\r\n        defaultSorted={defaultSorted}\r\n      />\r\n    </UserAuth>\r\n  );\r\n};\r\n\r\nexport default Employees;\r\n"]},"metadata":{},"sourceType":"module"}