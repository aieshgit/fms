{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/akau1902/Web Development/fleet-management-system/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";//import Table from \"../layouts/Table\";\n//import MaterialTable from \"../layouts/MaterialTable\";\n//import MuiDataGrid from \"../layouts/MuiDataGrid\";\n//import MaterialTable from \"material-table\";\n//import DataTable from \"../layouts/Table\";\n//import BootstrapTable from \"react-bootstrap-table-next\";\n//import paginationFactory from \"react-bootstrap-table2-paginator\";\n//import cellEditFactory, { Type } from \"react-bootstrap-table2-editor\";\n//import filterFactory, { textFilter } from \"react-bootstrap-table2-filter\";\n//import { Link } from \"react-router-dom\";\n//import ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\nimport BsTable from\"../layouts/BsTable\";import UserAuth from\"../auth/UserAuth\";import{Link}from\"react-router-dom\";import{customSort}from\"../utilities/Helpers\";import{textFilter}from\"react-bootstrap-table2-filter\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Vehicles=function Vehicles(){/*   const tableTitle = \"Vehicles\";\r\n  const entity = \"vehicles\";\r\n  const addButton = \"Add Vehicle\";\r\n  const headerItems = [\r\n    \"Vehicle#\",\r\n    \"Registration\",\r\n    \"VIN/Chassis\",\r\n    \"Make\",\r\n    \"Model\",\r\n    \"Build Date\",\r\n    \"Action\",\r\n  ];\r\n  const columnOrder = [\r\n    \"vehicleNum\",\r\n    \"regNum\",\r\n    \"vin\",\r\n    \"make\",\r\n    \"model\",\r\n    \"buildDate\",\r\n  ]; */ //for mui datagrid\n/*   const columns = [\r\n    {\r\n      field: \"vehicleNum\",\r\n      headerName: \"Vehicle#\",\r\n      width: 200,\r\n    },\r\n    {\r\n      field: \"regNum\",\r\n      headerName: \"Registration\",\r\n      width: 200,\r\n    },\r\n    {\r\n      field: \"vin\",\r\n      headerName: \"VIN/Chassis\",\r\n      width: 200,\r\n    },\r\n    {\r\n      field: \"make\",\r\n      headerName: \"Make\",\r\n      width: 200,\r\n    },\r\n    {\r\n      field: \"model\",\r\n      headerName: \"Model\",\r\n      width: 200,\r\n    },\r\n    {\r\n      field: \"buildDate\",\r\n      headerName: \"Build Date\",\r\n      width: 200,\r\n    },\r\n  ]; */ //for mui datagrid\n//for material-table\n/*   const columns2 = [\r\n    {\r\n      field: \"vehicleNum\",\r\n      title: \"Vehicle#\",\r\n    },\r\n    {\r\n      field: \"regNum\",\r\n      title: \"Registration\",\r\n    },\r\n    {\r\n      field: \"vin\",\r\n      title: \"VIN/Chassis\",\r\n    },\r\n    {\r\n      field: \"make\",\r\n      title: \"Make\",\r\n    },\r\n    {\r\n      field: \"model\",\r\n      title: \"Model\",\r\n    },\r\n    {\r\n      field: \"buildDate\",\r\n      title: \"Build Date\",\r\n    },\r\n  ]; */ //for material-table\n//action for bootstrap table next\n/*   const action = (id, row) => {\r\n    return (\r\n      <>\r\n        <Link className=\"btn btn-primary me-2\" to={`vehicles/${id}`}>\r\n          View\r\n        </Link>\r\n        <Link className=\"btn btn-warning me-2\" to={`vehicles/edit/${id}`}>\r\n          Edit\r\n        </Link>\r\n      </>\r\n    );\r\n  }; */ //for bootstrap table\nvar columns=[{dataField:\"vehicleNum\",text:\"Vehicle#\",sort:true,sortFunc:customSort,formatter:function formatter(cell,row){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Link,{to:\"vehicles/\".concat(row.id),children:row.vehicleNum})});}},{dataField:\"regNum\",text:\"Registration\",filter:textFilter()},{dataField:\"vin\",text:\"VIN/Chassis\"},{dataField:\"make\",text:\"Make\"},{dataField:\"model\",text:\"Model\"},{dataField:\"buildDate\",text:\"Build Date\"}/*     {\r\n      dataField: \"id\",\r\n      text: \"Actions\",\r\n      formatter: action,\r\n    }, */];//for bootstrap table\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),vehicles=_useState2[0],setVehicles=_useState2[1];useEffect(function(){loadVehicles();},[]);var loadVehicles=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(process.env.REACT_APP_BACKEND_SERVER,\"/vehicles\"),{// headers: { Authorization: `Bearer ${loginState.token}` },\nheaders:{authorization:\"Bearer \".concat(JSON.parse(window.localStorage.getItem(\"auth\")).token)}});case 2:result=_context.sent;// console.log(result);\n//  result.data.map((item) => delete item.id);\nsetVehicles(result.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function loadVehicles(){return _ref.apply(this,arguments);};}();// delete vehicle\n/*   const deleteVehicle = async (id) => {\r\n    await axios.delete(`http://localhost:5000/vehicles/${id}`);\r\n    loadVehicles();\r\n  }; */return/*#__PURE__*/ (/*       <Table\r\n        tableTitle={tableTitle}\r\n        entity={entity}\r\n        headerItems={headerItems}\r\n        tableData={vehicles}\r\n        columnOrder={columnOrder}\r\n        deleteRecord={deleteVehicle}\r\n        addButton={addButton}\r\n      /> */ /* <MaterialTable /> */ /* <MuiDataGrid rows={vehicles} columns={columns}></MuiDataGrid> */ /* <MaterialTable title=\"Vehicles\" columns={columns2} data={vehicles} /> */ /* <DataTable ></DataTable> */ /*     <div className=\"table-container\">\r\n      <div className=\"container table-container\">\r\n        <div className=\"card shadow\">\r\n          <div className=\"card-body\">\r\n            <h2 className=\"card-title d-inline-block table-label\">\r\n              Manage Vehicles\r\n            </h2>\r\n            <Link\r\n              className=\"btn btn-primary px-2 py-2 mt-1 ml-3 d-inline-block\"\r\n              to=\"/vehicles/add\"\r\n            >\r\n              Add Vehicle\r\n            </Link>\r\n            <BootstrapTable\r\n              keyField=\"id\"\r\n              data={vehicles}\r\n              columns={columns3}\r\n              striped\r\n              hover\r\n              bordered={false}\r\n              pagination={paginationFactory()}\r\n              cellEdit={cellEditFactory({\r\n                mode: \"dbclick\",\r\n              })}\r\n              filter={filterFactory()}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div> */_jsx(UserAuth,{children:/*#__PURE__*/_jsx(BsTable,{sObject:\"vehicles\",tableTitle:\"Vehicles\",columns:columns,tableData:vehicles,addButton:\"Add Vehicle\"})}));};export default Vehicles;","map":{"version":3,"sources":["C:/Users/akau1902/Web Development/fleet-management-system/client/src/components/list_comps/Vehicles.js"],"names":["React","useState","useEffect","axios","BsTable","UserAuth","Link","customSort","textFilter","Vehicles","columns","dataField","text","sort","sortFunc","formatter","cell","row","id","vehicleNum","filter","vehicles","setVehicles","loadVehicles","get","process","env","REACT_APP_BACKEND_SERVER","headers","authorization","JSON","parse","window","localStorage","getItem","token","result","data"],"mappings":"kiBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kBAArB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,UAAT,KAA2B,sBAA3B,CACA,OAASC,UAAT,KAA2B,+BAA3B,C,gGAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OApBuB,CAsBrB;AACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAtDuB,CAuDrB;AAEA;AACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAnFuB,CAoFrB;AAEA;AACA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAlGuB,CAmGrB;AAEA,GAAMC,CAAAA,OAAO,CAAG,CACd,CACEC,SAAS,CAAE,YADb,CAEEC,IAAI,CAAE,UAFR,CAGEC,IAAI,CAAE,IAHR,CAIEC,QAAQ,CAAEP,UAJZ,CAKEQ,SAAS,CAAE,mBAACC,IAAD,CAAOC,GAAP,CAAe,CACxB,mBACE,sCACE,KAAC,IAAD,EAAM,EAAE,oBAAcA,GAAG,CAACC,EAAlB,CAAR,UAAiCD,GAAG,CAACE,UAArC,EADF,EADF,CAKD,CAXH,CADc,CAcd,CACER,SAAS,CAAE,QADb,CAEEC,IAAI,CAAE,cAFR,CAGEQ,MAAM,CAAEZ,UAAU,EAHpB,CAdc,CAmBd,CACEG,SAAS,CAAE,KADb,CAEEC,IAAI,CAAE,aAFR,CAnBc,CAuBd,CACED,SAAS,CAAE,MADb,CAEEC,IAAI,CAAE,MAFR,CAvBc,CA2Bd,CACED,SAAS,CAAE,OADb,CAEEC,IAAI,CAAE,OAFR,CA3Bc,CA+Bd,CACED,SAAS,CAAE,WADb,CAEEC,IAAI,CAAE,YAFR,CAIA;AACJ;AACA;AACA;AACA,SAvCkB,CAAhB,CAyCA;AAEA,cAAgCX,QAAQ,CAAC,EAAD,CAAxC,wCAAOoB,QAAP,eAAiBC,WAAjB,eAEApB,SAAS,CAAC,UAAM,CACdqB,YAAY,GACb,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,YAAY,0FAAG,oKACEpB,CAAAA,KAAK,CAACqB,GAAN,WAChBC,OAAO,CAACC,GAAR,CAAYC,wBADI,cAEnB,CACE;AACAC,OAAO,CAAE,CACPC,aAAa,kBACXC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,MAA5B,CAAX,EAAgDC,KADrC,CADN,CAFX,CAFmB,CADF,QACbC,MADa,eAYnB;AACA;AACAd,WAAW,CAACc,MAAM,CAACC,IAAR,CAAX,CAdmB,sDAAH,kBAAZd,CAAAA,YAAY,0CAAlB,CAiBA;AACA;AACF;AACA;AACA,OAEE,oBACE;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WATE,CAUE,uBAVF,CAWE,mEAXF,CAYE,2EAZF,CAaE,8BAbF,CAcE;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aACI,KAAC,QAAD,wBACE,KAAC,OAAD,EACE,OAAO,CAAC,UADV,CAEE,UAAU,CAAC,UAFb,CAGE,OAAO,CAAEb,OAHX,CAIE,SAAS,CAAEW,QAJb,CAKE,SAAS,CAAC,aALZ,EADF,EA5CF,EAsDD,CAnOD,CAqOA,cAAeZ,CAAAA,QAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n//import Table from \"../layouts/Table\";\r\n//import MaterialTable from \"../layouts/MaterialTable\";\r\n//import MuiDataGrid from \"../layouts/MuiDataGrid\";\r\n//import MaterialTable from \"material-table\";\r\n//import DataTable from \"../layouts/Table\";\r\n//import BootstrapTable from \"react-bootstrap-table-next\";\r\n//import paginationFactory from \"react-bootstrap-table2-paginator\";\r\n//import cellEditFactory, { Type } from \"react-bootstrap-table2-editor\";\r\n//import filterFactory, { textFilter } from \"react-bootstrap-table2-filter\";\r\n//import { Link } from \"react-router-dom\";\r\n//import ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\r\nimport BsTable from \"../layouts/BsTable\";\r\nimport UserAuth from \"../auth/UserAuth\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { customSort } from \"../utilities/Helpers\";\r\nimport { textFilter } from \"react-bootstrap-table2-filter\";\r\n\r\nconst Vehicles = () => {\r\n  /*   const tableTitle = \"Vehicles\";\r\n  const entity = \"vehicles\";\r\n  const addButton = \"Add Vehicle\";\r\n  const headerItems = [\r\n    \"Vehicle#\",\r\n    \"Registration\",\r\n    \"VIN/Chassis\",\r\n    \"Make\",\r\n    \"Model\",\r\n    \"Build Date\",\r\n    \"Action\",\r\n  ];\r\n  const columnOrder = [\r\n    \"vehicleNum\",\r\n    \"regNum\",\r\n    \"vin\",\r\n    \"make\",\r\n    \"model\",\r\n    \"buildDate\",\r\n  ]; */\r\n\r\n  //for mui datagrid\r\n  /*   const columns = [\r\n    {\r\n      field: \"vehicleNum\",\r\n      headerName: \"Vehicle#\",\r\n      width: 200,\r\n    },\r\n    {\r\n      field: \"regNum\",\r\n      headerName: \"Registration\",\r\n      width: 200,\r\n    },\r\n    {\r\n      field: \"vin\",\r\n      headerName: \"VIN/Chassis\",\r\n      width: 200,\r\n    },\r\n    {\r\n      field: \"make\",\r\n      headerName: \"Make\",\r\n      width: 200,\r\n    },\r\n    {\r\n      field: \"model\",\r\n      headerName: \"Model\",\r\n      width: 200,\r\n    },\r\n    {\r\n      field: \"buildDate\",\r\n      headerName: \"Build Date\",\r\n      width: 200,\r\n    },\r\n  ]; */\r\n  //for mui datagrid\r\n\r\n  //for material-table\r\n  /*   const columns2 = [\r\n    {\r\n      field: \"vehicleNum\",\r\n      title: \"Vehicle#\",\r\n    },\r\n    {\r\n      field: \"regNum\",\r\n      title: \"Registration\",\r\n    },\r\n    {\r\n      field: \"vin\",\r\n      title: \"VIN/Chassis\",\r\n    },\r\n    {\r\n      field: \"make\",\r\n      title: \"Make\",\r\n    },\r\n    {\r\n      field: \"model\",\r\n      title: \"Model\",\r\n    },\r\n    {\r\n      field: \"buildDate\",\r\n      title: \"Build Date\",\r\n    },\r\n  ]; */\r\n  //for material-table\r\n\r\n  //action for bootstrap table next\r\n  /*   const action = (id, row) => {\r\n    return (\r\n      <>\r\n        <Link className=\"btn btn-primary me-2\" to={`vehicles/${id}`}>\r\n          View\r\n        </Link>\r\n        <Link className=\"btn btn-warning me-2\" to={`vehicles/edit/${id}`}>\r\n          Edit\r\n        </Link>\r\n      </>\r\n    );\r\n  }; */\r\n  //for bootstrap table\r\n\r\n  const columns = [\r\n    {\r\n      dataField: \"vehicleNum\",\r\n      text: \"Vehicle#\",\r\n      sort: true,\r\n      sortFunc: customSort,\r\n      formatter: (cell, row) => {\r\n        return (\r\n          <>\r\n            <Link to={`vehicles/${row.id}`}>{row.vehicleNum}</Link>\r\n          </>\r\n        );\r\n      },\r\n    },\r\n    {\r\n      dataField: \"regNum\",\r\n      text: \"Registration\",\r\n      filter: textFilter(),\r\n    },\r\n    {\r\n      dataField: \"vin\",\r\n      text: \"VIN/Chassis\",\r\n    },\r\n    {\r\n      dataField: \"make\",\r\n      text: \"Make\",\r\n    },\r\n    {\r\n      dataField: \"model\",\r\n      text: \"Model\",\r\n    },\r\n    {\r\n      dataField: \"buildDate\",\r\n      text: \"Build Date\",\r\n    },\r\n    /*     {\r\n      dataField: \"id\",\r\n      text: \"Actions\",\r\n      formatter: action,\r\n    }, */\r\n  ];\r\n  //for bootstrap table\r\n\r\n  const [vehicles, setVehicles] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadVehicles();\r\n  }, []);\r\n\r\n  const loadVehicles = async () => {\r\n    const result = await axios.get(\r\n      `${process.env.REACT_APP_BACKEND_SERVER}/vehicles`,\r\n      {\r\n        // headers: { Authorization: `Bearer ${loginState.token}` },\r\n        headers: {\r\n          authorization: `Bearer ${\r\n            JSON.parse(window.localStorage.getItem(\"auth\")).token\r\n          }`,\r\n        },\r\n      }\r\n    );\r\n    // console.log(result);\r\n    //  result.data.map((item) => delete item.id);\r\n    setVehicles(result.data);\r\n  };\r\n\r\n  // delete vehicle\r\n  /*   const deleteVehicle = async (id) => {\r\n    await axios.delete(`http://localhost:5000/vehicles/${id}`);\r\n    loadVehicles();\r\n  }; */\r\n\r\n  return (\r\n    /*       <Table\r\n        tableTitle={tableTitle}\r\n        entity={entity}\r\n        headerItems={headerItems}\r\n        tableData={vehicles}\r\n        columnOrder={columnOrder}\r\n        deleteRecord={deleteVehicle}\r\n        addButton={addButton}\r\n      /> */\r\n    /* <MaterialTable /> */\r\n    /* <MuiDataGrid rows={vehicles} columns={columns}></MuiDataGrid> */\r\n    /* <MaterialTable title=\"Vehicles\" columns={columns2} data={vehicles} /> */\r\n    /* <DataTable ></DataTable> */\r\n    /*     <div className=\"table-container\">\r\n      <div className=\"container table-container\">\r\n        <div className=\"card shadow\">\r\n          <div className=\"card-body\">\r\n            <h2 className=\"card-title d-inline-block table-label\">\r\n              Manage Vehicles\r\n            </h2>\r\n            <Link\r\n              className=\"btn btn-primary px-2 py-2 mt-1 ml-3 d-inline-block\"\r\n              to=\"/vehicles/add\"\r\n            >\r\n              Add Vehicle\r\n            </Link>\r\n            <BootstrapTable\r\n              keyField=\"id\"\r\n              data={vehicles}\r\n              columns={columns3}\r\n              striped\r\n              hover\r\n              bordered={false}\r\n              pagination={paginationFactory()}\r\n              cellEdit={cellEditFactory({\r\n                mode: \"dbclick\",\r\n              })}\r\n              filter={filterFactory()}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div> */\r\n    <UserAuth>\r\n      <BsTable\r\n        sObject=\"vehicles\"\r\n        tableTitle=\"Vehicles\"\r\n        columns={columns}\r\n        tableData={vehicles}\r\n        addButton=\"Add Vehicle\"\r\n      />\r\n    </UserAuth>\r\n  );\r\n};\r\n\r\nexport default Vehicles;\r\n"]},"metadata":{},"sourceType":"module"}